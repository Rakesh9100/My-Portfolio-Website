---
import { Image } from "astro:assets";

import LPU from "../assets/images/education/LPU.jpg";

const educationData = [{
        degree: "B.Tech in CSE",
        institution: "Lovely Professional University",
        period: "2020-2024",
        description: "Bachelor of Technology in Computer Science and Engineering with a strong foundation in software engineering.",
        score: "8.48 CGPA",
        image: LPU,
        link: "https://www.lpu.in/",
        achievements: [{
                icon: "üèÜ",
                text: "8.48 CGPA"
            },
            {
                icon: "üìö",
                text: "CSE Major"
            }
        ]
    }
];
---

<section class="education section-common section-bg-primary" id="education">
    <div class="title relative text-center font-bold mb-4 md:mb-6">
        <span class="section-title text-[8vw] sm:text-[6vw] md:text-[5vw] lg:text-[3.5vw] uppercase">My Education</span>
    </div>

    <div class="text text-center mb-8 md:mb-12 lg:mb-16 px-4">
        <span class="quote-text">Education is the most powerful weapon which we can use to change the world.</span>
    </div>

    <!-- Education Timeline -->
    <div class="education-timeline relative max-w-[800px] mx-auto my-15 px-3 sm:px-5">
        <div class="education-boxes flex flex-col gap-8 lg:gap-15 relative justify-center">
            {educationData.map((edu, index) => (
            <div class="box education-box single-entry animate-slide-in-center" style="animation-delay: ${index * 0.2}s;">
                <div class="box-content flex flex-col lg:flex-row gap-4 sm:gap-5 lg:gap-6 p-4 sm:p-5 lg:p-6">
                    <div class="image-section w-full lg:flex-[0_0_280px] xl:flex-[0_0_320px] flex flex-col gap-3 sm:gap-4">
                        <div class="image relative rounded-[12px] sm:rounded-[15px] overflow-hidden flex-shrink-0">
                            <a href={edu.link} target="_blank" rel="noopener noreferrer" class="block relative cursor-pointer no-underline">
                                <Image src={edu.image} alt={edu.institution} width={400} height={280} loading="lazy" class="w-full h-[180px] sm:h-[220px] lg:h-[260px] object-cover block transition-all duration-400" />
                            </a>
                        </div>
                    </div>

                    <div class="content flex-1 flex flex-col gap-3 sm:gap-3.5 lg:gap-4 py-0 lg:py-2.5 justify-center">
                        <div class="achievements flex flex-row gap-2 sm:gap-2.5 flex-wrap mb-2">
                            {edu.achievements.map((achievement) => (
                            <div class="achievement-item">
                                <span class="achievement-icon">{achievement.icon}</span>
                                <span>{achievement.text}</span>
                            </div>
                            ))}
                        </div>

                        <h3 class="font-bold m-0" style="font-size: clamp(20px, 4vw, 28px); background: var(--gradient1); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1.2;">
                            {edu.degree}
                        </h3>

                        <h4 class="flex items-center gap-1.5 sm:gap-2 font-semibold m-0" style="font-size: clamp(14px, 3vw, 20px); background: var(--gradient2); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="16" height="16" class="flex-shrink-0 sm:w-5 sm:h-5" style="fill: var(--primary); opacity: 1;">
                                <path d="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40L64 64C28.7 64 0 92.7 0 128l0 16 0 48L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-256 0-48 0-16c0-35.3-28.7-64-64-64l-40 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40L152 64l0-40zM48 192l352 0 0 256c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-256z"/>
                            </svg>
                            {edu.period}
                        </h4>

                        <p class="m-0 leading-relaxed text-sm sm:text-base lg:text-lg" style="font-size: clamp(14px, 2.5vw, 18px); color: rgba(255, 255, 255, 0.9); line-height: 1.6;">
                            {edu.description}
                        </p>
                    </div>
                </div>
            </div>
            ))}
        </div>
    </div>
</section>

<style>
    .education .image a,
    .education .image img {
        user-select: none;
        -webkit-user-drag: none;
    }

    .education-box {
        position: relative;
        border-radius: 20px;
        overflow: hidden;
        width: 100%;
        max-width: 800px;
        margin: 0 auto;
        border: 3px solid rgba(255, 255, 255, 0.15);
        transition: transform 0.35s ease, border-color 0.35s ease;
    }

    .education-box:hover {
        border-color: var(--primary);
        transform: translateY(-5px);
    }

    .achievement-item {
        gap: 0.5rem;
        display: flex;
        color: white;
        align-items: center;
        border-radius: 10px;
        font-size: 0.8rem;
        font-weight: 600;
        padding: 0.5rem 0.7rem;
        background: var(--gradient3);
        border: 1px solid var(--secondary);
    }

    .achievement-icon {
        font-size: 1rem;
        flex-shrink: 0;
    }

    @keyframes slideInCenter {
        from {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
        }

        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    .animate-slide-in-center {
        animation: slideInCenter 0.8s ease-out forwards;
        animation-play-state: paused;
        opacity: 0;
    }

    .animate-in-view {
        animation-play-state: running;
    }

    @media (max-width: 1024px) {
        .education {
            padding-top: 3rem;
            padding-bottom: 3rem;
        }

        .education-boxes {
            gap: 1.5rem;
        }

        .box-content {
            padding: 1rem;
        }
    }

    @media (max-width: 768px) {
        .education {
            padding-top: 4rem;
            padding-bottom: 4rem;
        }

        .education-boxes {
            gap: 2rem;
        }
    }

    @media (max-width: 640px) {
        .education {
            padding: 3.5rem 0;
        }
    }
</style>

<script>
    // Initialize intersection observer for scroll animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-in-view');
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    // Observe animated elements
    const animatedElements = document.querySelectorAll('.animate-slide-in-center');

    animatedElements.forEach(el => observer.observe(el));
</script>